- name: Deploy dist to static repo
  env:
    GH_TOKEN: ${{ secrets.GH_TOKEN }}
  run: |
    git config --global user.name "github-actions"
    git config --global user.email "actions@github.com"

    git clone https://x-access-token:${GH_TOKEN}@github.com/FaisalJamali123/github-helper-hub-static.git static-repo

    rsync -av --delete dist/ static-repo/

    cd static-repo
    git add .
    git diff --cached --quiet && echo "No changes to deploy" && exit 0
    git commit -m "Auto deploy from main repo"
    git push origin main