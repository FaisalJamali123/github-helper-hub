Options -MultiViews

RewriteEngine On

# -------------------------
# 1. Remove .html ghosts
# -------------------------
RewriteCond %{THE_REQUEST} \s/+(.*)\.html[\s?]
RewriteRule ^ %1 [R=301,L]

# -------------------------
# 2. Block obvious ghost URLs
# -------------------------
RewriteCond %{REQUEST_URI} ^/(wp-admin|wp-login|xmlrpc|cgi-bin|old|backup|test|temp|undefined)
RewriteRule ^ - [R=404,L]

# -------------------------
# 3. Allow only valid routes
# -------------------------
RewriteCond %{REQUEST_URI} !^/$
RewriteCond %{REQUEST_URI} !^/calculator(/.*)?$
RewriteCond %{REQUEST_URI} !^/privacy-policy$
RewriteCond %{REQUEST_URI} !^/terms$
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ - [R=404,L]

# -------------------------
# 4. React SPA fallback
# -------------------------
RewriteRule ^ index.html [L]
